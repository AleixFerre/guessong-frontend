<header class="hero">
  <div class="hero-copy">
    @if (!lobby()) {
      <span class="badge">by Aleix Ferré</span>
      <h1>Adivina la canción</h1>
      <p>
        Compite con tu sala, pulsa el timbre y adivina antes de que el tiempo se apague. Todo en
        tiempo real, con reglas claras y ritmo rapido.
      </p>
    }
    <div class="hero-actions">
      @if (lobby()) {
        <button class="ghost" (click)="leave.emit()">Salir</button>
      }
      <div class="status" [class.connected]="wsStatus() === 'connected'">
        {{ formatStatus(wsStatus()) }}
      </div>
      @if (wsStatus() === 'connected') {
        <div class="ping">Ping {{ formatPing(pingMs()) }}</div>
      }
    </div>
    <div class="volume-control">
      <label for="volume-slider">
        Volumen
        <span class="volume-value">{{ volume() }}%</span>
      </label>
      <input
        id="volume-slider"
        type="range"
        min="0"
        max="100"
        [value]="volume()"
        (input)="onVolumeInput($event)"
      />
    </div>
  </div>
  @if (lobby(); as activeLobby) {
    @if (activeLobby.state !== 'IN_GAME') {
      <div class="hero-card">
        <h3 class="title">Sala activa</h3>
        <div class="row">
          <span>Codigo</span>
          <div class="code">
            <strong>{{ activeLobby.id }}</strong>
            <button class="copy" (click)="copyLobbyLink(activeLobby.id)">
              {{ copied() ? 'Copiado' : 'Copiar link' }}
            </button>
          </div>
        </div>
        <div class="row">
          <span>Biblioteca</span>
          <strong>{{ activeLobby.settings.library }}</strong>
        </div>
        <div class="row">
          <span>Jugadores</span>
          <strong>{{ activeLobby.players.length }}/{{ activeLobby.settings.maxPlayers }}</strong>
        </div>
      </div>
    }
  } @else {
    <div class="hero-card">
      <h3>Listo para jugar</h3>
      <p>Elige un nombre, crea una sala o unete a una.</p>
    </div>
  }
</header>
