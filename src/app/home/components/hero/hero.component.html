<header class="hero">
  <div class="hero-copy">
    <span class="badge">by Aleix Ferré</span>
    <h1>Adivina la canción</h1>
    <p>
      Compite con tu sala, pulsa el timbre y adivina antes de que el tiempo se apague. Todo en
      tiempo real, con reglas claras y ritmo rapido.
    </p>
    <div class="hero-actions">
      <button class="ghost" (click)="leave.emit()" [disabled]="!lobby()">Salir</button>
      <div class="status" [class.connected]="wsStatus() === 'connected'">
        {{ formatStatus(wsStatus()) }}
      </div>
    </div>
    <div class="volume-control">
      <label for="volume-slider">Volumen</label>
      <input
        id="volume-slider"
        type="range"
        min="0"
        max="100"
        [value]="volume()"
        (input)="onVolumeInput($event)"
      />
    </div>
    @if (errorMessage(); as message) {
    <p class="error">{{ message }}</p>
    }
  </div>
  @if (lobby(); as activeLobby) {
  <div class="hero-card">
    <h3>Sala activa</h3>
    <div class="row">
      <span>Codigo</span>
      <div class="code">
        <strong>{{ activeLobby.id }}</strong>
        <button class="copy" (click)="copyLobbyCode(activeLobby.id)">
          {{ copied() ? 'Copiado' : 'Copiar' }}
        </button>
      </div>
    </div>
    <div class="row">
      <span>Modo</span>
      <strong>{{ formatMode(activeLobby.settings.mode) }}</strong>
    </div>
    <div class="row">
      <span>Biblioteca</span>
      <strong>{{ activeLobby.settings.library }}</strong>
    </div>
    <div class="row">
      <span>Jugadores</span>
      <strong>{{ activeLobby.players.length }}/{{ activeLobby.settings.maxPlayers }}</strong>
    </div>
  </div>
  } @else {
  <div class="hero-card">
    <h3>Listo para jugar</h3>
    <p>Elige un nombre, crea una sala o unete a una.</p>
  </div>
  }
</header>
