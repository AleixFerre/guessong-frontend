<div class="page">
  <app-home-hero
    [lobby]="lobby()"
    [wsStatus]="ws.status()"
    [errorMessage]="errorMessage()"
    (leave)="leaveLobby()"
  ></app-home-hero>

  <section class="grid">
    <div class="panel">
      <app-lobby-setup
        [libraries]="libraries()"
        [selectedLibraryInfo]="selectedLibraryInfo()"
        [username]="username"
        [joinLobbyId]="joinLobbyId"
        [mode]="mode"
        [library]="library"
        [roundDuration]="roundDuration"
        [maxPlayers]="maxPlayers"
        (createLobbyRequest)="createLobby()"
        (joinLobbyRequest)="joinLobby()"
      ></app-lobby-setup>
    </div>

    <div class="panel">
      <app-lobby-panel
        [lobby]="lobby()"
        [isHost]="isHost()"
        (startGameRequest)="startGame()"
        (skipRequest)="sendSkip()"
      ></app-lobby-panel>
    </div>

    <div class="panel wide">
      <app-game-panel
        [progressPercent]="progressPercent()"
        [roundDurationSec]="roundDurationSec()"
        [elapsedSeconds]="elapsedSeconds()"
        [roundStatus]="roundStatus()"
        [canBuzz]="canBuzz()"
        [canGuess]="canGuess()"
        [guessTracks]="libraryTracks()"
        [roundResult]="roundResult()"
        [notifications]="notifications()"
        (buzzRequest)="sendBuzz()"
        (skipRequest)="sendSkip()"
        (guessRequest)="sendGuess($event)"
      ></app-game-panel>
    </div>
  </section>
</div>
